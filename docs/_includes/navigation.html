{% assign navigation = site.data.navigation[page.lang] %}
<ul class="nav-links">
  {% for item in navigation %}
    <li class="nav-item {% if page.url == item.url %}active{% endif %}">
      {% if item.children %}
        <a href="#" class="dropdown-link">
          {{ item.title }}
          <i class="fas fa-angle-down"></i>
        </a>
        <ul class="dropdown-menu">
          {% for child in item.children %}
            <li>
              <a href="{{ child.url | relative_url }}" {% if page.url == child.url %}class="active"{% endif %}>
                {{ child.title }}
              </a>
            </li>
          {% endfor %}
        </ul>
      {% else %}
        <a href="{{ item.url | relative_url }}" {% if page.url == item.url %}class="active"{% endif %}>
          {{ item.title }}
        </a>
      {% endif %}
    </li>
  {% endfor %}
</ul>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    const dropdownLinks = document.querySelectorAll('.dropdown-link');
    
    dropdownLinks.forEach(link => {
      link.addEventListener('click', function(e) {
        e.preventDefault();
        this.parentNode.classList.toggle('expanded');
      });
    });
  });
</script>
